<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>yx - libs/app/component</title>
        <link rel="stylesheet" href="/_static/index.css">
        <link rel="stylesheet" href="/_static/pygments.css">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.css" integrity="sha384-5TcZemv2l/9On385z///+d7MSYlvIEw9FuZTIdZ14vJLqWphw7e7ZPuOiCHJcFCP" crossorigin="anonymous">
        <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.js" integrity="sha384-cMkvdD8LoxVzGF/RPUKAcvmm49FQ0oxwDF3BGKtDXcEc+T1b2N+teh/OJfpU0jr6" crossorigin="anonymous"></script>
        <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/contrib/auto-render.min.js" integrity="sha384-hCXGrW6PitJEwbkoStFjeJxv+fSOOQKOPbJxSfM6G5sWZjAyWhXiTIIAmQqnlLlh" crossorigin="anonymous"></script>
        <script>
            document.addEventListener("DOMContentLoaded", function() {
                renderMathInElement(document.body, {
                  delimiters: [
                      {left: ':::tex', right: ':::', display: true},
                      {left: ':tex', right: ':', display: false},
                  ],
                  throwOnError : false
                });
            });
        </script>
    </head>     
    <body>
        <header class="header">
            <div class="menu-div">
                
                    <a href="/" class="menu-item">home</a>
                
                    <a href="/about" class="menu-item">about</a>
                
                    <a href="/education" class="menu-item">education</a>
                
                    <a href="/research" class="menu-item">research</a>
                
                    <a href="/publications" class="menu-item">publications</a>
                
                    <a href="/work" class="menu-item">work</a>
                
                    <a href="/setup" class="menu-item">setup</a>
                
                    <a href="/libs/index" class="menu-item">libs</a>
                
            </div>    
        </header>
        <div style="display: flex;">
            <main class="main"><section id="about">
<h1>About<a class="headerlink" href="#about" title="Link to this heading"></a></h1>
<p>In the following we will briefly describe how the <code class="docutils literal notranslate"><span class="pre">app</span></code> component system works.</p>
<!-- toc -->
<ul class="simple">
<li><p><a class="reference internal" href="#components"><span class="xref myst">Components</span></a></p></li>
<li><p><a class="reference internal" href="#tags"><span class="xref myst">Tags</span></a></p></li>
<li><p><a class="reference internal" href="#dependences"><span class="xref myst">Dependences</span></a></p></li>
<li><p><a class="reference internal" href="#inners"><span class="xref myst">Inners</span></a></p></li>
<li><p><a class="reference internal" href="#operations"><span class="xref myst">Operations</span></a></p></li>
<li><p><a class="reference internal" href="#arithmetic"><span class="xref myst">Arithmetic</span></a></p></li>
<li><p><a class="reference internal" href="#models"><span class="xref myst">Models</span></a></p></li>
<li><p><a class="reference internal" href="#builtins"><span class="xref myst">Builtins</span></a></p></li>
<li><p><a class="reference internal" href="#rendering"><span class="xref myst">Rendering</span></a></p></li>
<li><p><a class="reference internal" href="#scripts-and-assets"><span class="xref myst">Scripts and Assets</span></a></p></li>
<li><p><a class="reference internal" href="#statics"><span class="xref myst">Statics</span></a></p></li>
<li><p><a class="reference internal" href="#pages"><span class="xref myst">Pages</span></a></p></li>
<li><p><a class="reference internal" href="#style"><span class="xref myst">Style</span></a></p></li>
</ul>
<!-- tocstop -->
</section>
<section id="components">
<h1>Components<a class="headerlink" href="#components" title="Link to this heading"></a></h1>
<p>In <code class="docutils literal notranslate"><span class="pre">app</span></code> component system, the basic unities are the <em>components</em>. A <em>component</em> is a typed function (is the sense of <a class="reference external" href="https://github.com/ximenesyuri/typed">typed</a>) taking values in the <code class="docutils literal notranslate"><span class="pre">Jinja</span></code> type, and being decorated with the <code class="docutils literal notranslate"><span class="pre">&#64;component</span></code> decorator.</p>
<p>Thus, a typical component is defined as follows:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="kn">from</span><span class="w"> </span><span class="nn">typed</span><span class="w"> </span><span class="kn">import</span> <span class="n">SomeType</span><span class="p">,</span> <span class="n">OtherType</span>
<span class="linenos"> 2</span><span class="kn">from</span><span class="w"> </span><span class="nn">app</span><span class="w"> </span><span class="kn">import</span> <span class="n">component</span><span class="p">,</span> <span class="n">Jinja</span>
<span class="linenos"> 3</span>
<span class="linenos"> 4</span><span class="nd">@component</span>
<span class="linenos"> 5</span><span class="k">def</span><span class="w"> </span><span class="nf">my_comp</span><span class="p">(</span><span class="n">x</span><span class="p">:</span> <span class="n">SomeType</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="n">OtherType</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Jinja</span><span class="p">:</span>
<span class="linenos"> 6</span>    <span class="o">...</span>
<span class="linenos"> 7</span>    <span class="k">return</span> <span class="s2">&quot;&quot;&quot;jinja</span>
<span class="linenos"> 8</span><span class="s2">{</span><span class="si">% f</span><span class="s2">or i in x %}</span>
<span class="linenos"> 9</span><span class="s2">&lt;some html&gt;</span>
<span class="linenos">10</span><span class="s2">    {</span><span class="si">% i</span><span class="s2">f y is True %}</span>
<span class="linenos">11</span><span class="s2">    &lt;more html&gt;</span>
<span class="linenos">12</span><span class="s2">    ...</span>
<span class="linenos">13</span><span class="s2">    &lt;/more html&gt;</span>
<span class="linenos">14</span><span class="s2">    {</span><span class="si">% e</span><span class="s2">ndif %}</span>
<span class="linenos">15</span><span class="s2">&lt;/some html&gt;</span>
<span class="linenos">16</span><span class="s2">{</span><span class="si">% e</span><span class="s2">ndfor %}</span>
<span class="linenos">17</span><span class="s2">&quot;&quot;&quot;</span>
</pre></div>
</div>
<p>The type <code class="docutils literal notranslate"><span class="pre">Jinja</span></code> is the subtype of <code class="docutils literal notranslate"><span class="pre">Str</span></code> consisting of all strings which begins with the <code class="docutils literal notranslate"><span class="pre">jinja</span></code> keyword and that can be compiled in <a class="reference external" href="https://jinja.palletsprojects.com/en/stable/">jinja2</a>.</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>See <a class="reference external" href="https://jinja.palletsprojects.com/en/stable/">jinja2</a> to discover the full valid syntax for <code class="docutils literal notranslate"><span class="pre">jinja</span> <span class="pre">strings</span></code>.</p></li>
<li><p>Local variables of a component are automatically included in the context of its returning <code class="docutils literal notranslate"><span class="pre">jinja</span> <span class="pre">string</span></code>. This means that you can define variables in the body of a component and then use the defined variables in the returning <code class="docutils literal notranslate"><span class="pre">jinja</span> <span class="pre">string</span></code>.</p></li>
</ol>
</div></blockquote>
<p>Each component comes equipped with the <code class="docutils literal notranslate"><span class="pre">jinja</span></code> property, which returns its raw <code class="docutils literal notranslate"><span class="pre">jinja</span> <span class="pre">string</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="nb">print</span><span class="p">(</span><span class="n">my_comp</span><span class="o">.</span><span class="n">jinja</span><span class="p">)</span>
<span class="linenos"> 2</span>
<span class="linenos"> 3</span><span class="c1"># will return the following:</span>
<span class="linenos"> 4</span><span class="c1"># {% for i in x %}</span>
<span class="linenos"> 5</span><span class="c1"># &lt;some html&gt;</span>
<span class="linenos"> 6</span><span class="c1">#     {% if y is True %}</span>
<span class="linenos"> 7</span><span class="c1">#     &lt;more html&gt;</span>
<span class="linenos"> 8</span><span class="c1">#     ...</span>
<span class="linenos"> 9</span><span class="c1">#     &lt;/more html&gt;</span>
<span class="linenos">10</span><span class="c1">#     {% endif %}</span>
<span class="linenos">11</span><span class="c1"># &lt;/some html&gt;</span>
<span class="linenos">12</span><span class="c1"># {% endfor %}</span>
</pre></div>
</div>
</section>
<section id="tags">
<h1>Tags<a class="headerlink" href="#tags" title="Link to this heading"></a></h1>
<p>Typically, components are delimited by a HTML tag. In <code class="docutils literal notranslate"><span class="pre">app</span></code> there is a type factory <code class="docutils literal notranslate"><span class="pre">Tag:</span> <span class="pre">Tuple(Str)</span> <span class="pre">-&gt;</span> <span class="pre">SUB(Jinja)</span></code> that receives a tuple of HTML tag names and returns the subtype of <code class="docutils literal notranslate"><span class="pre">Jinja</span></code> of all <code class="docutils literal notranslate"><span class="pre">jinja</span> <span class="pre">strings</span></code> enclosed by one of the given tags.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="c1"># example of instance of &#39;Tag(&#39;some-tag&#39;)&#39;</span>
<span class="linenos">2</span><span class="sd">&quot;&quot;&quot;jinja</span>
<span class="linenos">3</span><span class="sd">&lt;some-tag&gt;</span>
<span class="linenos">4</span><span class="sd">...</span>
<span class="linenos">5</span><span class="sd">&lt;/some-tag&gt;</span>
<span class="linenos">6</span><span class="sd">&quot;&quot;&quot;</span>
</pre></div>
</div>
<p>With such type factory one can construct type safe tag-based components:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="kn">from</span><span class="w"> </span><span class="nn">app</span><span class="w"> </span><span class="kn">import</span> <span class="n">component</span><span class="p">,</span> <span class="n">Tag</span>
<span class="linenos"> 2</span>
<span class="linenos"> 3</span><span class="nd">@component</span>
<span class="linenos"> 4</span><span class="k">def</span><span class="w"> </span><span class="nf">my_tag_comp</span><span class="p">(</span><span class="o">...</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tag</span><span class="p">(</span><span class="s1">&#39;some-tag&#39;</span><span class="p">):</span>
<span class="linenos"> 5</span>    <span class="o">...</span>
<span class="linenos"> 6</span>    <span class="k">return</span> <span class="s2">&quot;&quot;&quot;jinja</span>
<span class="linenos"> 7</span><span class="s2">&lt;some-tag&gt;</span>
<span class="linenos"> 8</span><span class="s2">...</span>
<span class="linenos"> 9</span><span class="s2">&lt;/some-tag&gt;</span>
<span class="linenos">10</span><span class="s2">&quot;&quot;&quot;</span>
</pre></div>
</div>
<p>There is a supplementary type factory <code class="docutils literal notranslate"><span class="pre">TAG:</span> <span class="pre">Tuple(Str)</span> <span class="pre">-&gt;</span> <span class="pre">SUB(COMPONENT)</span></code> that associates to each tuple <code class="docutils literal notranslate"><span class="pre">(tag1,</span> <span class="pre">tag2,</span> <span class="pre">...)</span></code> of HTML tags the corresponding subtype of <code class="docutils literal notranslate"><span class="pre">TAG(tag1,</span> <span class="pre">tag2,</span> <span class="pre">...)</span></code> of <code class="docutils literal notranslate"><span class="pre">COMPONENT</span></code> of all components that return <code class="docutils literal notranslate"><span class="pre">Tag(tag1,</span> <span class="pre">tag2,</span> <span class="pre">...)</span></code> strings.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="kn">from</span><span class="w"> </span><span class="nn">app</span><span class="w"> </span><span class="kn">import</span> <span class="n">TAG</span>
<span class="linenos">2</span>
<span class="linenos">3</span><span class="c1"># the following returns True</span>
<span class="linenos">4</span><span class="nb">print</span><span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">my_tag_comp</span><span class="p">,</span> <span class="n">TAG</span><span class="p">(</span><span class="s1">&#39;some-tag&#39;</span><span class="p">)))</span>
</pre></div>
</div>
</section>
<section id="dependences">
<h1>Dependences<a class="headerlink" href="#dependences" title="Link to this heading"></a></h1>
<p>Components can depend on other components. More precisely, a component can be endowed with a special <code class="docutils literal notranslate"><span class="pre">__depends_on__</span></code> variable of type <code class="docutils literal notranslate"><span class="pre">List(COMPONENT)</span></code>, which lists other already defined components. In this case, the dependent components can be called inside the <code class="docutils literal notranslate"><span class="pre">jinja</span> <span class="pre">string</span></code> of the main component.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="kn">from</span><span class="w"> </span><span class="nn">app</span><span class="w"> </span><span class="kn">import</span> <span class="n">Jinja</span><span class="p">,</span> <span class="n">Tag</span><span class="p">,</span> <span class="n">component</span>
<span class="linenos"> 2</span>
<span class="linenos"> 3</span><span class="nd">@component</span>
<span class="linenos"> 4</span><span class="k">def</span><span class="w"> </span><span class="nf">comp_1</span><span class="p">(</span><span class="o">...</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Jinja</span><span class="p">:</span>
<span class="linenos"> 5</span>    <span class="o">...</span>
<span class="linenos"> 6</span>    <span class="k">return</span> <span class="s2">&quot;&quot;&quot;jinja</span>
<span class="linenos"> 7</span><span class="s2">    ...</span>
<span class="linenos"> 8</span><span class="s2">&quot;&quot;&quot;</span>
<span class="linenos"> 9</span>
<span class="linenos">10</span><span class="nd">@component</span>
<span class="linenos">11</span><span class="k">def</span><span class="w"> </span><span class="nf">comp_2</span><span class="p">(</span><span class="o">...</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tag</span><span class="p">(</span><span class="s1">&#39;some-tag&#39;</span><span class="p">):</span>
<span class="linenos">12</span>    <span class="o">...</span>
<span class="linenos">13</span>    <span class="k">return</span> <span class="s2">&quot;&quot;&quot;jinja</span>
<span class="linenos">14</span><span class="s2">&lt;some-tag&gt;</span>
<span class="linenos">15</span><span class="s2">    ...</span>
<span class="linenos">16</span><span class="s2">&lt;/some-tag&gt;</span>
<span class="linenos">17</span><span class="s2">&quot;&quot;&quot;</span>
<span class="linenos">18</span>
<span class="linenos">19</span><span class="nd">@component</span>
<span class="linenos">20</span><span class="k">def</span><span class="w"> </span><span class="nf">main_comp</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">__depends_on__</span><span class="o">=</span><span class="p">[</span><span class="n">comp_1</span><span class="p">,</span> <span class="n">comp_2</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Jinja</span><span class="p">:</span>
<span class="linenos">21</span>    <span class="o">...</span>
<span class="linenos">22</span>    <span class="k">return</span> <span class="s2">&quot;&quot;&quot;jinja</span>
<span class="linenos">23</span><span class="s2">    ...</span>
<span class="linenos">24</span><span class="s2">{{ comp_1(...) }}</span>
<span class="linenos">25</span><span class="s2">    ...</span>
<span class="linenos">26</span><span class="s2">{{ comp_2(...) }}</span>
<span class="linenos">27</span><span class="s2">&quot;&quot;&quot;</span>
</pre></div>
</div>
<p>Recall that components are “typed functions”, which means that all their arguments must have type hints, which are checked at runtime. There is an exception: the <code class="docutils literal notranslate"><span class="pre">__depends_on__</span></code> variable. Indeed, if a type hint is not provided, then <code class="docutils literal notranslate"><span class="pre">List(COMPONENT)</span></code> is automatically attached to it. On the other hand, if a type hint is provided, it must be a subtype of <code class="docutils literal notranslate"><span class="pre">List(COMPONENT)</span></code>.</p>
</section>
<section id="inners">
<h1>Inners<a class="headerlink" href="#inners" title="Link to this heading"></a></h1>
<p>In <code class="docutils literal notranslate"><span class="pre">app</span></code>, components may have a special kind of variable: the <code class="docutils literal notranslate"><span class="pre">inner</span></code> variables, which are necessarily of type <code class="docutils literal notranslate"><span class="pre">Inner</span></code> and works as placeholders for future insert inside the component.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="kn">from</span><span class="w"> </span><span class="nn">app</span><span class="w"> </span><span class="kn">import</span> <span class="n">component</span><span class="p">,</span> <span class="n">Tag</span><span class="p">,</span> <span class="n">Inner</span>
<span class="linenos"> 2</span>
<span class="linenos"> 3</span><span class="nd">@component</span>
<span class="linenos"> 4</span><span class="k">def</span><span class="w"> </span><span class="nf">my_inner_comp</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">inner</span><span class="p">:</span> <span class="n">Inner</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tag</span><span class="p">(</span><span class="s1">&#39;some-tag&#39;</span><span class="p">):</span>
<span class="linenos"> 5</span>    <span class="o">...</span>
<span class="linenos"> 6</span>    <span class="k">return</span> <span class="s2">&quot;&quot;&quot;jinja</span>
<span class="linenos"> 7</span><span class="s2">&lt;some-tag&gt;</span>
<span class="linenos"> 8</span><span class="s2">    {{ inner }}</span>
<span class="linenos"> 9</span><span class="s2">&lt;/some-tag&gt;</span>
<span class="linenos">10</span><span class="s2">&quot;&quot;&quot;</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">inner</span></code> variables of a given component can be collected from the property <code class="docutils literal notranslate"><span class="pre">inner_vars</span></code> in <code class="docutils literal notranslate"><span class="pre">COMPONENT</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="nb">print</span><span class="p">(</span><span class="n">my_inner_comp</span><span class="o">.</span><span class="n">inner_vars</span><span class="p">)</span> <span class="c1"># will return &#39;1&#39;</span>
</pre></div>
</div>
<p>The number of <code class="docutils literal notranslate"><span class="pre">inner</span></code> vars is used to decompose the type <code class="docutils literal notranslate"><span class="pre">COMPONENT</span></code> into distinct subtypes of components with a fixed amount of <code class="docutils literal notranslate"><span class="pre">inner</span></code> variables. More precisely, there is the type factory <code class="docutils literal notranslate"><span class="pre">Component:</span> <span class="pre">Int</span> <span class="pre">-&gt;</span> <span class="pre">SUB(COMPONENT)</span></code> that to each integer <code class="docutils literal notranslate"><span class="pre">n&gt;=0</span></code> returns the subtype <code class="docutils literal notranslate"><span class="pre">Component(n)</span></code> of <code class="docutils literal notranslate"><span class="pre">COMPONENT</span></code> of all components such that <code class="docutils literal notranslate"><span class="pre">component.inner_vars</span> <span class="pre">==</span> <span class="pre">n</span></code>.</p>
<p>So, for example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="kn">from</span><span class="w"> </span><span class="nn">app</span><span class="w"> </span><span class="kn">import</span> <span class="n">Component</span>
<span class="linenos">2</span>
<span class="linenos">3</span><span class="nb">print</span><span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">my_inner_comp</span><span class="p">,</span> <span class="n">Component</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span> <span class="c1"># will return &#39;True&#39;</span>
<span class="linenos">4</span><span class="nb">print</span><span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">my_inner_comp</span><span class="p">,</span> <span class="n">Component</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span> <span class="c1"># will return &#39;False&#39; </span>
</pre></div>
</div>
<p>By definition, if <code class="docutils literal notranslate"><span class="pre">n&lt;0</span></code>, then <code class="docutils literal notranslate"><span class="pre">Component(n)</span></code> is <code class="docutils literal notranslate"><span class="pre">COMPONENT</span></code>, meaning that the component may have any number of <code class="docutils literal notranslate"><span class="pre">inner</span></code> variables, including zero.</p>
</section>
<section id="operations">
<h1>Operations<a class="headerlink" href="#operations" title="Link to this heading"></a></h1>
<p>There are three main operations involving components:</p>
<ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">join:</span> <span class="pre">COMPONENT</span> <span class="pre">x</span> <span class="pre">COMPONENT</span> <span class="pre">-&gt;</span> <span class="pre">COMPONENT</span></code>:</p>
<ul class="simple">
<li><p>receive a tuple of components and creates a new <code class="docutils literal notranslate"><span class="pre">component</span></code> whose <code class="docutils literal notranslate"><span class="pre">jinja</span> <span class="pre">string</span></code> is the join of the <code class="docutils literal notranslate"><span class="pre">jinja</span> <span class="pre">string</span></code>s of each provided <code class="docutils literal notranslate"><span class="pre">component</span></code>;</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">concat:</span> <span class="pre">Component(1)</span> <span class="pre">x</span> <span class="pre">COMPONENT</span> <span class="pre">-&gt;</span> <span class="pre">COMPONENT</span></code>:</p>
<ul class="simple">
<li><p>receive a component with a single <code class="docutils literal notranslate"><span class="pre">inner</span></code> var and component, producing a new component whose <code class="docutils literal notranslate"><span class="pre">jinja</span> <span class="pre">str</span></code> is obtained by replacing the placeholder given by <code class="docutils literal notranslate"><span class="pre">inner</span></code> var in the first component with the <code class="docutils literal notranslate"><span class="pre">jinja</span> <span class="pre">string</span></code> of the second component.</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">eval:</span> <span class="pre">COMPONENT</span> <span class="pre">x</span> <span class="pre">Dict(Any)</span> <span class="pre">-&gt;</span> <span class="pre">COMPONENT</span></code>:</p>
<ul class="simple">
<li><p>receive a component and a list of <code class="docutils literal notranslate"><span class="pre">key-value</span></code> and returns the component obtained by fixing each variable associated to a <code class="docutils literal notranslate"><span class="pre">key</span></code> with the corresponding <code class="docutils literal notranslate"><span class="pre">value</span></code>, leaving the other variables unchanged.</p></li>
</ul>
</li>
</ol>
<p>The intuition for each of such operations is as follows:</p>
<ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">join</span></code>: put a component <strong>after</strong> other component</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">concat</span></code>: put a component <strong>inside</strong> other component</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">eval</span></code>: from a component, <strong>fixes</strong> some part</p></li>
</ol>
<p>So, for example, consider the following generic components:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="kn">from</span><span class="w"> </span><span class="nn">typed</span><span class="w"> </span><span class="kn">import</span> <span class="n">SomeType</span><span class="p">,</span> <span class="n">OtherType</span>
<span class="linenos"> 2</span><span class="kn">from</span><span class="w"> </span><span class="nn">app</span><span class="w"> </span><span class="kn">import</span> <span class="n">Jinja</span><span class="p">,</span> <span class="n">component</span><span class="p">,</span> <span class="n">Tag</span><span class="p">,</span> <span class="n">Inner</span><span class="p">,</span> <span class="n">join</span><span class="p">,</span> <span class="n">concat</span><span class="p">,</span> <span class="nb">eval</span>
<span class="linenos"> 3</span>
<span class="linenos"> 4</span><span class="nd">@component</span>
<span class="linenos"> 5</span><span class="k">def</span><span class="w"> </span><span class="nf">some_comp</span><span class="p">(</span><span class="n">x</span><span class="p">:</span> <span class="n">SomeType</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Jinja</span>
<span class="linenos"> 6</span>    <span class="o">...</span>
<span class="linenos"> 7</span>    <span class="k">return</span> <span class="s2">&quot;&quot;&quot;jinja</span>
<span class="linenos"> 8</span><span class="s2">{{ contents of &#39;comp_1&#39; jinja var }}</span>
<span class="linenos"> 9</span><span class="s2">&quot;&quot;&quot;</span>
<span class="linenos">10</span>
<span class="linenos">11</span><span class="nd">@component</span>
<span class="linenos">12</span><span class="k">def</span><span class="w"> </span><span class="nf">inner_comp</span><span class="p">(</span><span class="n">a</span><span class="p">:</span> <span class="n">OtherType</span><span class="p">,</span> <span class="n">inner</span><span class="p">:</span> <span class="n">Inner</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tag</span><span class="p">(</span><span class="s1">&#39;some-tag&#39;</span><span class="p">)</span>
<span class="linenos">13</span>    <span class="o">...</span>
<span class="linenos">14</span>    <span class="k">return</span> <span class="s2">&quot;&quot;&quot;jinja</span>
<span class="linenos">15</span><span class="s2">&lt;some-tag&gt;</span>
<span class="linenos">16</span><span class="s2">    {{ inner }}</span>
<span class="linenos">17</span><span class="s2">&lt;/some-tag&gt;</span>
<span class="linenos">18</span><span class="s2">&quot;&quot;&quot;</span>
</pre></div>
</div>
<p>The resulting joined component <code class="docutils literal notranslate"><span class="pre">join(some_comp,</span> <span class="pre">inner_comp)</span></code> is equivalent to the following component:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="nd">@component</span>
<span class="linenos">2</span><span class="k">def</span><span class="w"> </span><span class="nf">joined_comp</span><span class="p">(</span><span class="n">x</span><span class="p">:</span> <span class="n">SomeType</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="n">a</span><span class="p">:</span> <span class="n">OtherType</span><span class="p">,</span> <span class="n">inner</span><span class="p">:</span> <span class="n">Inner</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Jinja</span><span class="p">:</span>
<span class="linenos">3</span>    <span class="k">return</span> <span class="s2">&quot;&quot;&quot;jinja</span>
<span class="linenos">4</span><span class="s2">{{ contents of &#39;comp_1&#39; jinja var }}</span>
<span class="linenos">5</span><span class="s2">&lt;some-tag&gt;</span>
<span class="linenos">6</span><span class="s2">    {{ inner }}</span>
<span class="linenos">7</span><span class="s2">&lt;/some-tag&gt;</span>
<span class="linenos">8</span><span class="s2">&quot;&quot;&quot;</span>
</pre></div>
</div>
<p>On the other hand, <code class="docutils literal notranslate"><span class="pre">concat(inner_comp,</span> <span class="pre">some_comp)</span></code> is equivalent to:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="nd">@component</span>
<span class="linenos">2</span><span class="k">def</span><span class="w"> </span><span class="nf">concat_comp</span><span class="p">(</span><span class="n">a</span><span class="p">:</span> <span class="n">OtherType</span><span class="p">,</span> <span class="n">x</span><span class="p">:</span> <span class="n">SomeType</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tag</span><span class="p">(</span><span class="s1">&#39;some-tag&#39;</span><span class="p">):</span>
<span class="linenos">3</span>    <span class="k">return</span> <span class="s2">&quot;&quot;&quot;jinja</span>
<span class="linenos">4</span><span class="s2">&lt;some-tag&gt;</span>
<span class="linenos">5</span><span class="s2">    {{ contents of &#39;comp_1&#39; jinja var }}</span>
<span class="linenos">6</span><span class="s2">&lt;/some-tag&gt;</span>
<span class="linenos">7</span><span class="s2">&quot;&quot;&quot;</span>
</pre></div>
</div>
<p>Finally, <code class="docutils literal notranslate"><span class="pre">eval(inner_comp,</span> <span class="pre">inner=&quot;blablabla&quot;)</span></code> is the same as defining the component below.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="nd">@component</span>
<span class="linenos">2</span><span class="k">def</span><span class="w"> </span><span class="nf">eval_comp</span><span class="p">(</span><span class="n">a</span><span class="p">:</span> <span class="n">OtherType</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tag</span><span class="p">(</span><span class="s1">&#39;some-tag&#39;</span><span class="p">):</span>
<span class="linenos">3</span>    <span class="k">return</span> <span class="s2">&quot;&quot;&quot;jinja</span>
<span class="linenos">4</span><span class="s2">&lt;some-tag&gt;</span>
<span class="linenos">5</span><span class="s2">    blablabla</span>
<span class="linenos">6</span><span class="s2">&lt;/some-tag&gt;</span>
<span class="linenos">7</span><span class="s2">&quot;&quot;&quot;</span>
</pre></div>
</div>
<blockquote>
<div><p>In both <code class="docutils literal notranslate"><span class="pre">join</span></code> and <code class="docutils literal notranslate"><span class="pre">concat</span></code> operations, the <code class="docutils literal notranslate"><span class="pre">__depends_on__</span></code> is the concatenation of the <code class="docutils literal notranslate"><span class="pre">__depends_on__</span></code> of the underlying components. In the <code class="docutils literal notranslate"><span class="pre">eval</span></code> operation, on the other hand, the <code class="docutils literal notranslate"><span class="pre">__depends_on__</span></code> is maintained the same.</p>
</div></blockquote>
</section>
<section id="arithmetic">
<h1>Arithmetic<a class="headerlink" href="#arithmetic" title="Link to this heading"></a></h1>
<p>In the type <code class="docutils literal notranslate"><span class="pre">COMPONENT</span></code>, the operations <code class="docutils literal notranslate"><span class="pre">join</span></code> and <code class="docutils literal notranslate"><span class="pre">concat</span></code> corresponds, respectively to implementations of the class functions <code class="docutils literal notranslate"><span class="pre">__sum__</span></code> and <code class="docutils literal notranslate"><span class="pre">__mul__</span></code>. This means that instead of writing <code class="docutils literal notranslate"><span class="pre">join(comp_1,</span> <span class="pre">comp_2)</span></code> you can just write <code class="docutils literal notranslate"><span class="pre">comp_1</span> <span class="pre">+</span> <span class="pre">comp_2</span></code>. Similarly, instead of <code class="docutils literal notranslate"><span class="pre">concat(comp_1,</span> <span class="pre">comp_2)</span></code>, you can write <code class="docutils literal notranslate"><span class="pre">comp_1</span> <span class="pre">*</span> <span class="pre">comp_2</span></code>.</p>
<p>Therefore, the <code class="docutils literal notranslate"><span class="pre">COMPONENT</span></code> type  define a “component arithmetic” that can be used to build complex components from smaller ones.</p>
</section>
<section id="models">
<h1>Models<a class="headerlink" href="#models" title="Link to this heading"></a></h1>
<p>Of course, a component accept tuples of variables of any type. However, a better way to organize the component is to assigns a <code class="docutils literal notranslate"><span class="pre">model</span></code> (in the sense of <a class="reference external" href="https://github.com/ximenesyuri/typed">typed</a>) to it, grouping the variables in a more semantic entity.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="kn">from</span><span class="w"> </span><span class="nn">typed</span><span class="w"> </span><span class="kn">import</span> <span class="n">null</span><span class="p">,</span> <span class="n">SomeType</span><span class="p">,</span> <span class="n">OtherType</span><span class="p">,</span> <span class="o">...</span>
<span class="linenos">2</span><span class="kn">from</span><span class="w"> </span><span class="nn">typed.models</span><span class="w"> </span><span class="kn">import</span> <span class="n">model</span><span class="p">,</span> <span class="n">Optional</span>
<span class="linenos">3</span>
<span class="linenos">4</span><span class="nd">@model</span>
<span class="linenos">5</span><span class="k">class</span><span class="w"> </span><span class="nc">MyComp</span><span class="p">:</span>
<span class="linenos">6</span>    <span class="n">some_var</span><span class="p">:</span> <span class="n">SomeType</span>
<span class="linenos">7</span>    <span class="n">other_var</span><span class="p">:</span> <span class="n">Optional</span><span class="p">(</span><span class="n">OtherType</span><span class="p">,</span> <span class="n">null</span><span class="p">(</span><span class="n">OtherType</span><span class="p">))</span>
<span class="linenos">8</span>    <span class="o">...</span>
</pre></div>
</div>
<p>Then, one can define a component as:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="kn">from</span><span class="w"> </span><span class="nn">app</span><span class="w"> </span><span class="kn">import</span> <span class="n">component</span><span class="p">,</span> <span class="n">Jinja</span>
<span class="linenos"> 2</span><span class="kn">from</span><span class="w"> </span><span class="nn">somewhere</span><span class="w"> </span><span class="kn">import</span> <span class="n">MyComp</span>
<span class="linenos"> 3</span>
<span class="linenos"> 4</span><span class="nd">@component</span>
<span class="linenos"> 5</span><span class="k">def</span><span class="w"> </span><span class="nf">my_comp</span><span class="p">(</span><span class="n">my_comp</span><span class="p">:</span> <span class="n">MyComp</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Jinja</span><span class="p">:</span>
<span class="linenos"> 6</span>    <span class="k">return</span> <span class="s2">&quot;&quot;&quot;jinja</span>
<span class="linenos"> 7</span><span class="s2">    ...</span>
<span class="linenos"> 8</span><span class="s2">    {{ my_comp.some_var }}</span>
<span class="linenos"> 9</span><span class="s2">    ...</span>
<span class="linenos">10</span><span class="s2">&quot;&quot;&quot;</span>
</pre></div>
</div>
</section>
<section id="builtins">
<h1>Builtins<a class="headerlink" href="#builtins" title="Link to this heading"></a></h1>
<p>Inside <code class="docutils literal notranslate"><span class="pre">app.models</span></code> you will encounter a plethora of ready to use models, one for each basic HTML tag, while in <code class="docutils literal notranslate"><span class="pre">app.components</span></code> you will find their corresponding components.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>model       component       tag
---------------------------------------------------
Div         div             &lt;div&gt;
Text        text            &lt;p&gt;
Title       title           &lt;h1&gt;, &lt;h2&gt;, ... &lt;h6&gt;
Link        link            &lt;a&gt;
Image       image           &lt;img&gt;
Figure      figure          &lt;figure&gt;
Button      button          &lt;button&gt;
Script      script          &lt;script&gt;
Asset       asset           &lt;link&gt;
...
</pre></div>
</div>
<p>The builtin models have as attributes the main attributes of the corresponding HTML tag. So, for example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>model         attributes
----------------------------------
Div           div_id
              div_class
              ...
----------------------------------
Title         title_id
              title_class
              ...
----------------------------------
Image         img_id
              img_class
              img_href
              img_alt
              ...
</pre></div>
</div>
<p>From the builtin components and the <code class="docutils literal notranslate"><span class="pre">join</span></code> and <code class="docutils literal notranslate"><span class="pre">concat</span></code> operations you can build derived components very quickly. For instance, suppose you want to build a <code class="docutils literal notranslate"><span class="pre">div</span></code> with title followed by a paragraph. You can just take:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="kn">from</span><span class="w"> </span><span class="nn">app.components</span><span class="w"> </span><span class="kn">import</span> <span class="n">div</span><span class="p">,</span> <span class="n">title</span><span class="p">,</span> <span class="n">text</span>
<span class="linenos">2</span>
<span class="linenos">3</span><span class="n">my_comp</span> <span class="o">=</span> <span class="n">div</span> <span class="o">*</span> <span class="p">(</span><span class="n">title</span> <span class="o">+</span> <span class="n">text</span><span class="p">)</span>
</pre></div>
</div>
<p>The obtained component have the variables <code class="docutils literal notranslate"><span class="pre">div:</span> <span class="pre">Div</span></code>, <code class="docutils literal notranslate"><span class="pre">title:</span> <span class="pre">Title</span></code> and <code class="docutils literal notranslate"><span class="pre">text:</span> <span class="pre">Text</span></code>, whose attributes can then be fixed to produce concrete instances of <code class="docutils literal notranslate"><span class="pre">my_comp</span></code>.</p>
</section>
<section id="rendering">
<h1>Rendering<a class="headerlink" href="#rendering" title="Link to this heading"></a></h1>
<p>One time constructed, components can be <code class="docutils literal notranslate"><span class="pre">rendered</span></code>: which is the process of evaluating the <code class="docutils literal notranslate"><span class="pre">component</span></code> in a <code class="docutils literal notranslate"><span class="pre">context</span></code>, producing raw HTML. More precisely, the <code class="docutils literal notranslate"><span class="pre">render</span></code> process is implemented as a typed function <code class="docutils literal notranslate"><span class="pre">render:</span> <span class="pre">Component</span> <span class="pre">x</span> <span class="pre">Context</span> <span class="pre">-&gt;</span> <span class="pre">HTML</span></code>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="kn">from</span><span class="w"> </span><span class="nn">app</span><span class="w"> </span><span class="kn">import</span> <span class="n">render</span>
<span class="linenos">2</span>
<span class="linenos">3</span><span class="n">html</span> <span class="o">=</span> <span class="n">render</span><span class="p">(</span><span class="n">my_comp</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">context_vars</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
<p>In practical terms, rendering a component is similarly to using <code class="docutils literal notranslate"><span class="pre">eval</span></code> operation applied to all variables of a component, followed by a <code class="docutils literal notranslate"><span class="pre">jinja</span></code> renderization. This means that if <code class="docutils literal notranslate"><span class="pre">some_var</span></code> is a variable of some component <code class="docutils literal notranslate"><span class="pre">my_comp</span></code>, then to render <code class="docutils literal notranslate"><span class="pre">my_comp</span></code> we need to pass <code class="docutils literal notranslate"><span class="pre">some_var</span></code> with some value:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="kn">from</span><span class="w"> </span><span class="nn">typed</span><span class="w"> </span><span class="kn">import</span> <span class="n">SomeType</span>
<span class="linenos"> 2</span><span class="kn">from</span><span class="w"> </span><span class="nn">app</span><span class="w"> </span><span class="kn">import</span> <span class="n">component</span><span class="p">,</span> <span class="n">Jinja</span><span class="p">,</span> <span class="n">render</span>
<span class="linenos"> 3</span>
<span class="linenos"> 4</span><span class="nd">@component</span>
<span class="linenos"> 5</span><span class="k">def</span><span class="w"> </span><span class="nf">my_comp</span><span class="p">(</span><span class="n">some_var</span><span class="p">:</span> <span class="n">SomeType</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Jinja</span><span class="p">:</span>
<span class="linenos"> 6</span>    <span class="o">...</span>
<span class="linenos"> 7</span>    <span class="k">return</span> <span class="s2">&quot;&quot;&quot;jinja</span>
<span class="linenos"> 8</span><span class="s2">    ....</span>
<span class="linenos"> 9</span><span class="s2">&quot;&quot;&quot;</span>
<span class="linenos">10</span>
<span class="linenos">11</span><span class="n">html</span> <span class="o">=</span> <span class="n">render</span><span class="p">(</span><span class="n">my_comp</span><span class="p">,</span> <span class="n">some_var</span><span class="o">=</span><span class="n">some_value</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>
</pre></div>
</div>
<blockquote>
<div><p>We note that, if in the definition of <code class="docutils literal notranslate"><span class="pre">my_comp</span></code> the variable <code class="docutils literal notranslate"><span class="pre">some_var</span></code> has a default value, it is used in <code class="docutils literal notranslate"><span class="pre">render</span></code> if the variable is omitted.</p>
</div></blockquote>
</section>
<section id="minify">
<h1>Minify<a class="headerlink" href="#minify" title="Link to this heading"></a></h1>
<p>The <code class="docutils literal notranslate"><span class="pre">render</span></code> function has certain special variables, as we pass to discuss. The first of those variables in <code class="docutils literal notranslate"><span class="pre">__minify__</span></code>. It is a boolean variable with default value to <code class="docutils literal notranslate"><span class="pre">False</span></code>. If set to <code class="docutils literal notranslate"><span class="pre">True</span></code>, the obtained HTML is returned compacted.</p>
<p>So, if you want to produce compacted HTML, just use:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="kn">from</span><span class="w"> </span><span class="nn">app</span><span class="w"> </span><span class="kn">import</span> <span class="n">render</span>
<span class="linenos">2</span>
<span class="linenos">3</span><span class="n">html</span> <span class="o">=</span> <span class="n">render</span><span class="p">(</span><span class="n">my_comp</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">context_vars</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">__minify__</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="scripts">
<h1>Scripts<a class="headerlink" href="#scripts" title="Link to this heading"></a></h1>
<p>In the sequence, we have the variable <code class="docutils literal notranslate"><span class="pre">__scripts__</span></code> of type <code class="docutils literal notranslate"><span class="pre">List(Script)</span></code>. It should be used to append a component with certain auxiliary scripts. The <code class="docutils literal notranslate"><span class="pre">Script</span></code> model has a mandatory attribute <code class="docutils literal notranslate"><span class="pre">script_src</span></code> which defines its origin.</p>
<p>The attribute <code class="docutils literal notranslate"><span class="pre">script_src</span></code> is of type <code class="docutils literal notranslate"><span class="pre">Union(Extension('js'),</span> <span class="pre">Url('http',</span> <span class="pre">'https')</span></code>, which means that it accepts both:</p>
<ol class="arabic simple">
<li><p>a <code class="docutils literal notranslate"><span class="pre">http</span></code> or <code class="docutils literal notranslate"><span class="pre">https</span></code> url</p></li>
<li><p>a path to some <code class="docutils literal notranslate"><span class="pre">.js</span></code> file.</p></li>
</ol>
<p>If in <code class="docutils literal notranslate"><span class="pre">__script__</span></code> it is passed a script object with <code class="docutils literal notranslate"><span class="pre">script_src</span></code> given by a url, then, during the rendering, the component is appended with the builtin <code class="docutils literal notranslate"><span class="pre">script</span></code> component applied the given script object. On the other hand, if the script object contains a <code class="docutils literal notranslate"><span class="pre">script_src</span></code> which is the path to a <code class="docutils literal notranslate"><span class="pre">.js</span></code> file, then the content of the file is added to the component inside a <code class="docutils literal notranslate"><span class="pre">&lt;script&gt;</span></code> block.</p>
<p>So, for example, suppose you need to incorporate a script located in the url <code class="docutils literal notranslate"><span class="pre">https://my_script_url.com</span></code> to a component <code class="docutils literal notranslate"><span class="pre">my_comp</span></code>. All you need to do is:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="kn">from</span><span class="w"> </span><span class="nn">app</span><span class="w"> </span><span class="kn">import</span> <span class="n">render</span>
<span class="linenos"> 2</span><span class="kn">from</span><span class="w"> </span><span class="nn">app.models</span><span class="w"> </span><span class="kn">import</span> <span class="n">Script</span>
<span class="linenos"> 3</span>
<span class="linenos"> 4</span><span class="n">my_script</span> <span class="o">=</span> <span class="n">Script</span><span class="p">(</span>
<span class="linenos"> 5</span>    <span class="n">script_src</span><span class="o">=</span><span class="s2">&quot;https://my_script_url.com&quot;</span><span class="p">,</span>
<span class="linenos"> 6</span>    <span class="n">script_defer</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="linenos"> 7</span>    <span class="o">...</span>
<span class="linenos"> 8</span><span class="p">)</span>
<span class="linenos"> 9</span>
<span class="linenos">10</span><span class="n">html</span> <span class="o">=</span> <span class="n">render</span><span class="p">(</span><span class="n">my_comp</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">context_vars</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">__scripts__</span><span class="o">=</span><span class="p">[</span><span class="n">my_script</span><span class="p">])</span>
</pre></div>
</div>
</section>
<section id="assets">
<h1>Assets<a class="headerlink" href="#assets" title="Link to this heading"></a></h1>
</section>
<section id="extensions">
<h1>Extensions<a class="headerlink" href="#extensions" title="Link to this heading"></a></h1>
</section>
<section id="style">
<h1>Style<a class="headerlink" href="#style" title="Link to this heading"></a></h1>
</section>
<section id="statics">
<h1>Statics<a class="headerlink" href="#statics" title="Link to this heading"></a></h1>
</section>
<section id="pages">
<h1>Pages<a class="headerlink" href="#pages" title="Link to this heading"></a></h1>
<p>In <code class="docutils literal notranslate"><span class="pre">app</span></code> component system, a very special kind of <code class="docutils literal notranslate"><span class="pre">component</span></code> is a <code class="docutils literal notranslate"><span class="pre">page</span></code>. It is such that its rendered HTML satisfies the following:</p>
<ol class="arabic simple">
<li><p>its most external HTML tag is <code class="docutils literal notranslate"><span class="pre">&lt;html&gt;</span></code>;</p></li>
<li><p>the <code class="docutils literal notranslate"><span class="pre">&lt;html&gt;</span></code> block contains blocks <code class="docutils literal notranslate"><span class="pre">&lt;head&gt;</span></code> and <code class="docutils literal notranslate"><span class="pre">&lt;body&gt;</span></code>;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;head&gt;</span></code> is not inside <code class="docutils literal notranslate"><span class="pre">&lt;block&gt;</span></code> and vice-versa.</p></li>
</ol>
<p>Thus, in sum, a <code class="docutils literal notranslate"><span class="pre">page</span></code> is a <code class="docutils literal notranslate"><span class="pre">component</span></code> that, <strong>after being rendered</strong>, produces an HTML in the following format:</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span>...
<span class="p">&lt;</span><span class="nt">html</span><span class="p">&gt;</span>
    ...
    <span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span> ... <span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span> ... <span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
    ...
<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
...
</pre></div>
</div>
<p>There is the type <code class="docutils literal notranslate"><span class="pre">Page</span></code> of all <code class="docutils literal notranslate"><span class="pre">page</span></code>s. It is actually an extension of <code class="docutils literal notranslate"><span class="pre">Component</span></code> to include two entries:</p>
<ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">assets_dir</span></code>: a directory or a list of directories from which assets are collected</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">auto_style</span></code>: if <code class="docutils literal notranslate"><span class="pre">&lt;style&gt;</span></code> block will be automatically generated or not</p></li>
</ol>
<blockquote>
<div><p>In the same way as <code class="docutils literal notranslate"><span class="pre">Page</span></code> is an extension of <code class="docutils literal notranslate"><span class="pre">Component</span></code>, we have <code class="docutils literal notranslate"><span class="pre">StaticPage</span></code>, which is an extension of <code class="docutils literal notranslate"><span class="pre">Static</span></code>.</p>
</div></blockquote>
</section>
</main>
            
                
<div class="sidebar">
    <h3>libs</h3>
    <ul>
        
            
    <li class="toctree-l1">
        
            <a href="index">app</a>
        
        
            <ul>
                
                    
    <li class="toctree-l1">
        
            <a href="app">app</a>
        
        
    </li>

                
                    
    <li class="toctree-l1 current">
        
            <a href="#">component</a>
        
        
    </li>

                
            </ul>
        
    </li>

        
            
    <li class="toctree-l1">
        
            <a href="../cli/index">cli</a>
        
        
    </li>

        
            
    <li class="toctree-l1">
        
            <a href="../typed/index">typed</a>
        
        
    </li>

        
            
    <li class="toctree-l1">
        
            <a href="../utils/index">utils</a>
        
        
    </li>

        
    </ul>
</div>
            
        </div>
    </body>  
</html>